<ion-header>
  <navbar title="Verlauf 10-Meter-Gehtest" subTitle="Timed Walking Test"
          [workflowParameters]="workflowParameters"
          (searchbarVisibilityChange)="onSearchbarVisibilityChange($event)"></navbar>
</ion-header>

<ion-content padding>
  <ion-searchbar *ngIf="isSearchbarVisible" placeholder="Patient/Assessment suchen" (ionInput)="getAssessments($event)"></ion-searchbar>
  <ion-label class="patient">
    <p class="bold">{{viewPatientName(patient)}}</p><p>{{viewPatientInfos(patient)}}</p>
  </ion-label>

  <div class="col score">
    <div class="row">
      <ion-item>
        <ion-label>Datum der Durchführung:</ion-label>
        <ion-label>{{ executeDate() }}</ion-label>
      </ion-item>
    </div>

    <div class="row">
      <ion-item>
        <ion-label>1. Durchführung:</ion-label>
        <ion-label>{{ firstTry() }} Sekunden</ion-label>
      </ion-item>
    </div>
    <div class="row">
      <ion-item>
        <ion-label>2. Durchführung:</ion-label>
        <ion-label>{{ secondTry() }} Sekunden</ion-label>
      </ion-item>
    </div>
    <div class="row">
      <ion-item>
        <ion-label>3. Durchführung:</ion-label>
        <ion-label>{{ thirdTry() }} Sekunden</ion-label>
      </ion-item>
    </div>
  </div>

  <div class="col score">
  <div class="row">
    <ion-item>
      <ion-label class="bold">Durchschnittswert: </ion-label>
      <ion-label class="bold">{{ calcAverageRounded() }} Sekunden</ion-label>
    </ion-item>
  </div>
  </div>

  <div class="col score">
    <div class="row">
      <ion-item>
        <ion-label class="bold">Ganggeschwindigkeit:</ion-label>
        <ion-label class="bold">{{ calcSpeed() }} Meter/Sekunde</ion-label>
      </ion-item>
    </div>
  </div>

  <div class="col score">
    <div class="row">
      <ion-item>
        <ion-label>Hilfsmittel:</ion-label>
        <ion-label>{{ getAids() }}</ion-label>
      </ion-item>
    </div>
    <div class="row">
      <ion-item>
        <ion-label>Bemerkungen:</ion-label>
        <ion-label>{{ getComments() }}</ion-label>
      </ion-item>
    </div>
  </div>

  <ion-card>
    <ion-card-content>
      <canvas #lineCanvas></canvas>
    </ion-card-content>
  </ion-card>

  <ion-list radio-group [(ngModel)]="scoreToDemmiScore" class="differenceUnderChart">
    <ion-label class="bar-stable bold">
      Durchschnittliche Ganggeschwindigkeit:
    </ion-label>
    <div class="row" ng-repeat="data in ctrl.data">
      <div class="col">
        <ion-item class="topLeft center">
          <ion-label class="textLeft bold">Gesunder Erwachsener</ion-label>
        </ion-item>
        <ion-item class="downLeft center">
          <ion-label class="textLeft">1.3 Meter/Sekunde</ion-label>
        </ion-item>
      </div>
      <div class="col">
        <ion-item class="cell bold red">
          <ion-label>Durchschnitt Frauen</ion-label>
        </ion-item>
        <ion-item class="cell cellDown red">
          <ion-label>1.23 Meter/Sekunde</ion-label>
        </ion-item>
      </div>
      <div class="col">
        <ion-item class="cell lastCell bold blue">
          <ion-label> Durchschnitt Männer</ion-label>
        </ion-item>
        <ion-item class="cell lastCell cellDown blue">
          <ion-label>1.37 Meter/Sekunde</ion-label>
        </ion-item>
      </div>
    </div>
  </ion-list>

  <ion-list radio-group [(ngModel)]="scoreToDemmiScore" class="difference">
    <ion-label class="bar-stable bold">
      Normwerte:
    </ion-label>
    <div class="row" ng-repeat="data in ctrl.data">
      <div class="col">
        <ion-item class="topLeft center normColor1">
          <ion-label class="textLeft bold">Heimparese nach 6 Monaten</ion-label>
        </ion-item>
        <ion-item class="downLeft center normColor1">
          <ion-label class="textLeft">0.25 Meter/Sekunde</ion-label>
        </ion-item>
      </div>
      <div class="col">
        <ion-item class="cell bold normColor2">
          <ion-label>Erforderlich für selbstständiges Gehen</ion-label>
        </ion-item>
        <ion-item class="cell cellDown normColor2">
          <ion-label>0.8 Meter/Sekunde</ion-label>
        </ion-item>
      </div>
      <div class="col">
        <ion-item class="cell lastCell bold normColor3">
          <ion-label>Mobilität in urbanen Umgebungen erfordert eine Geschwindigkeit</ion-label>
        </ion-item>
        <ion-item class="cell lastCell cellDown normColor3">
          <ion-label>> 0.79 Meter/Sekunde</ion-label>
        </ion-item>
      </div>
    </div>
  </ion-list>

  <ion-label class="difference textSize"><b>Beachte:</b> Angaben zu
    <ul><li>Minimal Detectable Change (MDC)</li>
      <li>Minimal Clinically Important Difference (MCID)</li></ul>
    unter:
  <button class="link" (click)="openLink()">https://www.sralab.org/rehabilitation-measures/10-meter-walk-test</button>
  </ion-label>
</ion-content>
